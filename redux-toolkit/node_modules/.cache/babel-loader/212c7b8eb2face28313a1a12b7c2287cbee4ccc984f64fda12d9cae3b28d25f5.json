{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n//create action\nexport const createUser = createAsyncThunk(\"createUser\", async (data, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  const response = await fetch(\"https://64853adfa795d24810b6c7cb.mockapi.io/crud\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  try {\n    const result = await response.json();\n    return result;\n  } catch (err) {\n    return rejectWithValue(err.response.data);\n  }\n});\n// read action\nexport const showUser = createAsyncThunk(\"showUser\", async (args, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  const response = await fetch(\"https://64853adfa795d24810b6c7cb.mockapi.io/crud\");\n  try {\n    const result = await response.json();\n    // console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\n//delete action\nexport const deleteUser = createAsyncThunk(\"deleteUser\", async (id, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n  const response = await fetch(`https://64853adfa795d24810b6c7cb.mockapi.io/crud/${id}`, {\n    method: \"DELETE\"\n  });\n  try {\n    const result = await response.json();\n    // console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\n\n//update action\nexport const updateUser = createAsyncThunk(\"updateUser\", async (data, _ref4) => {\n  let {\n    rejectWithValue\n  } = _ref4;\n  const response = await fetch(`https://64853adfa795d24810b6c7cb.mockapi.io/crud/${data.id}`, {\n    method: \"PUT\",\n    body: JSON.stringify(data),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  try {\n    const result = await response.json();\n    return result;\n  } catch (err) {\n    return rejectWithValue(err.response.data);\n  }\n});\nexport const userDetail = createSlice({\n  name: \"userDetail\",\n  initialState: {\n    users: [],\n    loading: false,\n    error: null,\n    searchData: []\n  },\n  reducers: {\n    searchUser: (state, action) => {\n      state.searchData = action.payload;\n    }\n  },\n  extraReducers: {\n    [createUser.pending]: state => {\n      state.loading = true;\n    },\n    [createUser.fulfilled]: (state, action) => {\n      state.users.push(action.payload);\n      state.loading = false;\n    },\n    [createUser.rejected]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    [showUser.pending]: state => {\n      state.loading = true;\n    },\n    [showUser.fulfilled]: (state, action) => {\n      state.users = action.payload;\n      state.loading = false;\n    },\n    [showUser.rejected]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    [deleteUser.pending]: state => {\n      state.loading = true;\n    },\n    [deleteUser.fulfilled]: (state, action) => {\n      // state.users = action.payload;\n      const {\n        id\n      } = action.payload;\n      if (id) {\n        state.users = state.users.filter(user => user.id !== id);\n      }\n      state.loading = false;\n    },\n    [deleteUser.rejected]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    [updateUser.pending]: state => {\n      state.loading = true;\n    },\n    [updateUser.fulfilled]: (state, action) => {\n      state.users = state.users.map(ele => ele.id === action.payload.id ? action.payload : ele);\n      state.loading = false;\n    },\n    [updateUser.rejected]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    }\n  }\n});\nexport default userDetail.reducer;\nexport const {\n  searchUser\n} = userDetail.actions;","map":{"version":3,"names":["createSlice","createAsyncThunk","createUser","data","_ref","rejectWithValue","response","fetch","method","body","JSON","stringify","headers","result","json","err","showUser","args","_ref2","error","deleteUser","id","_ref3","updateUser","_ref4","userDetail","name","initialState","users","loading","searchData","reducers","searchUser","state","action","payload","extraReducers","pending","fulfilled","push","rejected","filter","user","map","ele","reducer","actions"],"sources":["E:/React JS/redux-toolkit/src/redux/features/userDetailsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n//create action\r\nexport const createUser = createAsyncThunk(\r\n  \"createUser\",\r\n  async (data, { rejectWithValue }) => {\r\n    const response = await fetch(\r\n      \"https://64853adfa795d24810b6c7cb.mockapi.io/crud\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n        headers: { \"Content-type\": \"application/json\" },\r\n      }\r\n    );\r\n    try {\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n// read action\r\nexport const showUser = createAsyncThunk(\r\n  \"showUser\",\r\n  async (args, { rejectWithValue }) => {\r\n    const response = await fetch(\r\n      \"https://64853adfa795d24810b6c7cb.mockapi.io/crud\"\r\n    );\r\n    try {\r\n      const result = await response.json();\r\n      // console.log(result);\r\n      return result;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n//delete action\r\nexport const deleteUser = createAsyncThunk(\r\n  \"deleteUser\",\r\n  async (id, { rejectWithValue }) => {\r\n    const response = await fetch(\r\n      `https://64853adfa795d24810b6c7cb.mockapi.io/crud/${id}`,\r\n      { method: \"DELETE\" }\r\n    );\r\n    try {\r\n      const result = await response.json();\r\n      // console.log(result);\r\n      return result;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\n//update action\r\nexport const updateUser = createAsyncThunk(\r\n  \"updateUser\",\r\n  async (data, { rejectWithValue }) => {\r\n    const response = await fetch(\r\n      `https://64853adfa795d24810b6c7cb.mockapi.io/crud/${data.id}`,\r\n      {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(data),\r\n        headers: { \"Content-type\": \"application/json\" },\r\n      }\r\n    );\r\n    try {\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const userDetail = createSlice({\r\n  name: \"userDetail\",\r\n  initialState: {\r\n    users: [],\r\n    loading: false,\r\n    error: null,\r\n    searchData: [],\r\n  },\r\n  reducers: {\r\n    searchUser: (state, action) => {\r\n      state.searchData = action.payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [createUser.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [createUser.fulfilled]: (state, action) => {\r\n      state.users.push(action.payload);\r\n      state.loading = false;\r\n    },\r\n    [createUser.rejected]: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n\r\n    [showUser.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [showUser.fulfilled]: (state, action) => {\r\n      state.users = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [showUser.rejected]: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n\r\n    [deleteUser.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [deleteUser.fulfilled]: (state, action) => {\r\n      // state.users = action.payload;\r\n      const { id } = action.payload;\r\n      if (id) {\r\n        state.users = state.users.filter((user) => user.id !== id);\r\n      }\r\n      state.loading = false;\r\n    },\r\n    [deleteUser.rejected]: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n\r\n    [updateUser.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [updateUser.fulfilled]: (state, action) => {\r\n      state.users = state.users.map((ele) =>\r\n        ele.id === action.payload.id ? action.payload : ele\r\n      );\r\n\r\n      state.loading = false;\r\n    },\r\n    [updateUser.rejected]: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default userDetail.reducer;\r\nexport const { searchUser } = userDetail.actions;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}