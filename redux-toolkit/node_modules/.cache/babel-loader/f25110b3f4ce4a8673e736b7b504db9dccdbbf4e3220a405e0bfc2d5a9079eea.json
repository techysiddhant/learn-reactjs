{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n//create action\nexport const createUser = createAsyncThunk(\"createUser\", async (data, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  const response = await fetch(\"https://64853adfa795d24810b6c7cb.mockapi.io/crud\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  try {\n    const result = await response.json();\n    return result;\n  } catch (err) {\n    return rejectWithValue(err.response.data);\n  }\n});\n// read action\nexport const showUser = createAsyncThunk(\"showUser\", async (args, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  const response = await fetch(\"https://64853adfa795d24810b6c7cb.mockapi.io/crud\");\n  try {\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\n//delete action\nexport const deleteUser = createAsyncThunk(\"deleteUser\", async (id, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n  const response = await fetch(`https://64853adfa795d24810b6c7cb.mockapi.io/crud/${id}`, {\n    method: \"DELETE\"\n  });\n  try {\n    const result = await response.json();\n    // console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const userDetail = createSlice({\n  name: \"userDetail\",\n  initialState: {\n    users: [],\n    loading: false,\n    error: null\n  },\n  extraReducers: {\n    [createUser.pending]: state => {\n      state.loading = true;\n    },\n    [createUser.fulfilled]: (state, action) => {\n      state.users.push(action.payload);\n      state.loading = false;\n    },\n    [createUser.rejected]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    [showUser.pending]: state => {\n      state.loading = true;\n    },\n    [showUser.fulfilled]: (state, action) => {\n      state.users = action.payload;\n      state.loading = false;\n    },\n    [showUser.rejected]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    [deleteUser.pending]: state => {\n      state.loading = true;\n    },\n    [deleteUser.fulfilled]: (state, action) => {\n      state.users = action.payload;\n      state.loading = false;\n    },\n    [deleteUser.rejected]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    }\n  }\n});\nexport default userDetail.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","createUser","data","_ref","rejectWithValue","response","fetch","method","body","JSON","stringify","headers","result","json","err","showUser","args","_ref2","console","log","error","deleteUser","id","_ref3","userDetail","name","initialState","users","loading","extraReducers","pending","state","fulfilled","action","push","payload","rejected","reducer"],"sources":["E:/React JS/redux-toolkit/src/redux/features/userDetailsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n//create action\r\nexport const createUser = createAsyncThunk(\r\n  \"createUser\",\r\n  async (data, { rejectWithValue }) => {\r\n    const response = await fetch(\r\n      \"https://64853adfa795d24810b6c7cb.mockapi.io/crud\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n        headers: { \"Content-type\": \"application/json\" },\r\n      }\r\n    );\r\n    try {\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n// read action\r\nexport const showUser = createAsyncThunk(\r\n  \"showUser\",\r\n  async (args, { rejectWithValue }) => {\r\n    const response = await fetch(\r\n      \"https://64853adfa795d24810b6c7cb.mockapi.io/crud\"\r\n    );\r\n    try {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      return result;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n//delete action\r\nexport const deleteUser = createAsyncThunk(\r\n  \"deleteUser\",\r\n  async (id, { rejectWithValue }) => {\r\n    const response = await fetch(\r\n      `https://64853adfa795d24810b6c7cb.mockapi.io/crud/${id}`,\r\n      { method: \"DELETE\" }\r\n    );\r\n    try {\r\n      const result = await response.json();\r\n      // console.log(result);\r\n      return result;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\nexport const userDetail = createSlice({\r\n  name: \"userDetail\",\r\n  initialState: {\r\n    users: [],\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  extraReducers: {\r\n    [createUser.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [createUser.fulfilled]: (state, action) => {\r\n      state.users.push(action.payload);\r\n      state.loading = false;\r\n    },\r\n    [createUser.rejected]: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n\r\n    [showUser.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [showUser.fulfilled]: (state, action) => {\r\n      state.users = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [showUser.rejected]: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n\r\n    [deleteUser.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [deleteUser.fulfilled]: (state, action) => {\r\n      state.users = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [deleteUser.rejected]: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default userDetail.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}